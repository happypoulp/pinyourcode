(function(e){var t="session",n="pubsub",r="facebook";define([n,r],function(e,n){log(t,"Dependencies loaded","Build module");var r=function(){e.subscribe("facebook:status",this.onFacebookStatus,this)},i=!1;return r.prototype={logged:function(){return i},requireAuth:function(t){i?t():e.publish("session:status",i)},toggleLoginStatus:function(e){n.toggleLoginStatus()},onFacebookStatus:function(n){i=n=="connected",e.publish("session:status",i),log(t,"onFacebookStatus - reader is logged?",i)}},new r})})(window);